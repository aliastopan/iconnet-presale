@page "/workload-shared"
@inherits WorkloadSharedPageBase
@rendermode @(InteractiveServer.DisablePreRender())

<PageTitle>Workload</PageTitle>

<FluentLabel Typo="Typography.H3" MarginBlock="0.5rem">Workload</FluentLabel>
<span class="page-description">Halaman utama Kertas Kerja</span>

<div class="datagrid-wrapper">
    @if (WorkPapers is not null)
    {
        <FluentDataGrid Items="@WorkPapers"
            TGridItem="WorkPaper"
            Virtualize="true"
            Pagination="@Pagination"
            ItemSize="32"
            EmptyContent="@HtmlFragment.EmptyContent"
            GridTemplateColumns="@GridTemplateCols">

            <TemplateColumn Title="ID PERMOHONAN" SortBy="@SortByIdPermohonan" Style="@GetWidthStyle(ColumnWidth.IdPermohonanPx, ColumnWidth.OffsetPx)">
                <div class="">
                    @context.ApprovalOpportunity.IdPermohonan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="TGL PERMOHONAN" Style="@GetWidthStyle(ColumnWidth.TglPermohonanPx)">
                <div class="">
                    @context.ApprovalOpportunity.TglPermohonan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="DURASI TIDAK LANJUT" Style="@GetWidthStyle(ColumnWidth.DurasiTidakLanjutPx)">
                <div class="">
                    @DateTimeService.GetElapsedTime(context.ApprovalOpportunity.TglPermohonan).AsReadableDateTime()
                </div>
            </TemplateColumn>
            <TemplateColumn Title="NAMA PEMOHON" Style="@GetWidthStyle(ColumnWidth.NamaPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.NamaPelanggan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="ID PLN" Style="@GetWidthStyle(ColumnWidth.IdPlnPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.IdPln
                </div>
            </TemplateColumn>
            <TemplateColumn Title="LAYANAN" Style="@GetWidthStyle(ColumnWidth.LayananPx)">
                <div class="">
                    @context.ApprovalOpportunity.Layanan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="SUMBER PERMOHONAN" Style="@GetWidthStyle(ColumnWidth.SumberPermohonanPx)">
                <div class="">
                    @context.ApprovalOpportunity.SumberPermohonan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="STATUS PERMOHONAN" Style="@GetWidthStyle(ColumnWidth.StatusPermohonanPx)">
                <div class="">
                    @context.ApprovalOpportunity.StatusPermohonan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="NAMA AGEN" Style="@GetWidthStyle(ColumnWidth.NamaAgenPx)">
                <div class="">
                    @context.ApprovalOpportunity.Agen.NamaLengkap
                </div>
            </TemplateColumn>
            <TemplateColumn Title="EMAIL AGEN" Style="@GetWidthStyle(ColumnWidth.EmailAgenPx)">
                <div class="">
                    @context.ApprovalOpportunity.Agen.Email
                </div>
            </TemplateColumn>
            <TemplateColumn Title="TELP. AGEN" Style="@GetWidthStyle(ColumnWidth.TelpAgenPx)">
                <div class="">
                    @context.ApprovalOpportunity.Agen.NomorTelepon
                </div>
            </TemplateColumn>
            <TemplateColumn Title="MITRA AGEN" Style="@GetWidthStyle(ColumnWidth.MitraAgenPx)">
                <div class="">
                    @context.ApprovalOpportunity.Agen.Mitra
                </div>
            </TemplateColumn>
            <TemplateColumn Title="SPLITTER" Style="@GetWidthStyle(ColumnWidth.SplitterPx)">
                <div class="">
                    @context.ApprovalOpportunity.Splitter
                </div>
            </TemplateColumn>
            <TemplateColumn Title="TELP. PEMOHON" Style="@GetWidthStyle(ColumnWidth.TelpPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.NomorTelepon
                </div>
            </TemplateColumn>
            <TemplateColumn Title="EMAIL PEMOHON" Style="@GetWidthStyle(ColumnWidth.EmailPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.Email
                </div>
            </TemplateColumn>
            <TemplateColumn Title="NIK PEMOHON" Style="@GetWidthStyle(ColumnWidth.NikPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.Nik
                </div>
            </TemplateColumn>
            <TemplateColumn Title="NPWP PEMOHON" Style="@GetWidthStyle(ColumnWidth.NpwpPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.Npwp
                </div>
            </TemplateColumn>
            <TemplateColumn Title="KETERANGAN" Style="@GetWidthStyle(ColumnWidth.KeteranganPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.Keterangan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="ALAMAT PEMOHON" Style="@GetWidthStyle(ColumnWidth.AlamatPemohonPx)">
                <div class="">
                    @context.ApprovalOpportunity.Pemohon.Alamat
                </div>
            </TemplateColumn>
            <TemplateColumn Title="REGIONAL" Style="@GetWidthStyle(ColumnWidth.RegionalPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Bagian
                </div>
            </TemplateColumn>
            <TemplateColumn Title="KANTOR PERWAKILAN" Style="@GetWidthStyle(ColumnWidth.KantorPerwakilanPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.KantorPerwakilan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="PROVINSI" Style="@GetWidthStyle(ColumnWidth.ProvinsiPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Provinsi
                </div>
            </TemplateColumn>
            <TemplateColumn Title="KABUPATEN" Style="@GetWidthStyle(ColumnWidth.KabupatenPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Kabupaten
                </div>
            </TemplateColumn>
            <TemplateColumn Title="KECAMATAN" Style="@GetWidthStyle(ColumnWidth.KecamatanPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Kecamatan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="KELURAHAN" Style="@GetWidthStyle(ColumnWidth.KelurahanPx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Kelurahan
                </div>
            </TemplateColumn>
            <TemplateColumn Title="LATITUDE" Style="@GetWidthStyle(ColumnWidth.LatitudePx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Koordinat.Latitude
                </div>
            </TemplateColumn>
            <TemplateColumn Title="LONGITUDE" Style="@GetWidthStyle(ColumnWidth.LongitudePx)">
                <div class="">
                    @context.ApprovalOpportunity.Regional.Koordinat.Longitude
                </div>
            </TemplateColumn>
        </FluentDataGrid>
    }
    else
    {
        <span>Loading...</span>
    }
</div>